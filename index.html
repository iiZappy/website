<!doctype html>
<html lang="nl" data-theme="system">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Memetown — posts, memes, games, chaos." />
  <title>Memetown</title>

  <link rel="preload" href="social.css" as="style" />
  <link rel="stylesheet" href="social.css" />
</head>
<body>
  <a class="skip" href="#app">Skip to content</a>

  <header class="top">
    <div class="brand" aria-label="Brand">
      <div class="logo" aria-hidden="true">M</div>
      <div>
        <div class="brand__name">Memetown</div>
        <div class="brand__tag">Memes, games, chaos.</div>
      </div>
    </div>

    <div class="search" role="search">
      <input class="search__input" type="search" placeholder="Search (coming soon)" aria-label="Search" />
    </div>

    <nav class="nav" aria-label="Top navigation">
      <a class="nav__link" data-route-link="home" href="#/home">Home</a>
      <a class="nav__link" data-route-link="arcade" href="#/arcade">Arcade</a>
      <a class="nav__link" data-route-link="wiki" href="#/wiki">Wiki</a>

      <label class="nav__select" for="theme">
        <span>Theme</span>
        <select id="theme" class="select">
          <option value="system">System</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </label>

      <button class="nav__btn" id="btn-sound" type="button" aria-pressed="true">Sound</button>
      <button class="nav__btn" id="btn-mute" type="button" aria-pressed="false">Mute</button>
      <label class="vol" for="vol"><span>Vol</span><input id="vol" type="range" min="0" max="100" value="70" /></label>
    </nav>
  </header>

  <main id="app" class="shell">
    <aside class="side side--left" aria-label="Left sidebar">
      <div class="card">
        <div class="card__title">Shortcuts</div>
        <div class="muted small">Home · Topics · Profile (soon)</div>
      </div>

      <div class="card">
        <div class="card__title">Topics</div>
        <div class="chips" id="topics">
          <button class="chip" data-topic="arma">arma</button>
          <button class="chip" data-topic="arma-scripting">arma scripting</button>
          <button class="chip" data-topic="memes">memes</button>
          <button class="chip" data-topic="clown">clown</button>
          <button class="chip" data-topic="rocket-league">rocket league</button>
          <button class="chip" data-topic="eggnog">eggnog</button>
          <button class="chip" data-topic="dutch-memes">dutch memes</button>
        </div>
      </div>

      <div class="card">
        <div class="card__title">Routes</div>
        <div class="chips">
          <a class="chip" href="#/home">Home</a>
          <a class="chip" href="#/arcade">Arcade</a>
          <a class="chip" href="#/wiki">Wiki</a>
        </div>
      </div>
    </aside>

    <section class="center" aria-label="Main">
      <!-- HOME VIEW -->
      <div class="view" id="view-home">
        <div class="card card--hero">
          <div class="hero__title">Home</div>
          <div class="hero__sub">Login to post. Verify email to interact.</div>
          <div class="hero__actions">
            <button class="btn btn--primary" id="btn-open-auth" type="button">Login / Register</button>
            <button class="btn" id="btn-logout" type="button" hidden>Logout</button>
            <button class="btn" id="btn-profile" type="button" hidden>Profile</button>
          </div>
          <div class="toast" id="toast" role="status" aria-live="polite">Booting…</div>
        </div>

        <div class="card" id="gate" hidden>
          <div class="card__title">Verify your email</div>
          <p class="muted">Check your inbox (and spam/junk). After clicking the verify link, press “I verified”.</p>
          <div class="row">
            <button class="btn btn--primary" id="btn-resend" type="button">Resend verification</button>
            <button class="btn" id="btn-ive-verified" type="button">I verified</button>
          </div>
        </div>

        <div class="composer" id="composer" hidden>
          <div class="composer__top">
            <div class="composer__title">Create post</div>
            <div class="composer__meta" id="me">—</div>
          </div>

          <textarea id="post-text" class="composer__text" placeholder="What’s on your mind?" maxlength="1200"></textarea>

          <div class="row row--wrap">
            <select id="post-topic" class="input">
              <option value="memes">memes</option>
              <option value="clown">clown</option>
              <option value="arma">arma</option>
              <option value="arma-scripting">arma scripting</option>
              <option value="rocket-league">rocket league</option>
              <option value="eggnog">eggnog</option>
              <option value="dutch-memes">dutch memes</option>
              <option value="top-memes-2026">top memes 2026</option>
            </select>

            <label class="file">
              <input id="avatar-file" type="file" accept="image/*" />
              <span>Avatar</span>
            </label>

            <label class="file">
              <input id="post-media" type="file" accept="image/*,video/*" />
              <span>GIF/Meme</span>
            </label>

            <button class="btn btn--primary" id="btn-post" type="button">Post</button>
          </div>

          <div class="muted small">Nu: text + topic + 1 GIF/meme (image/video). (Meer media features komen later.)</div>
        </div>

        <div class="tabs" id="tabs" hidden>
          <button class="tab is-on" id="tab-foryou" type="button">For You</button>
          <button class="tab" id="tab-latest" type="button">Latest</button>
          <button class="tab" id="tab-topic" type="button">Topic</button>
        </div>

        <section class="feed" id="feed" aria-label="Feed"></section>
      </div>

      <!-- ARCADE VIEW -->
      <div class="view" id="view-arcade" hidden>
        <div class="card card--hero">
          <div class="hero__title">Arcade</div>
          <div class="hero__sub">3 minigames. Same Memetown vibe, no page reload.</div>
        </div>

        <div class="card">
          <iframe class="embed" title="Memetown Arcade" src="arcade.embed.html" loading="lazy"></iframe>
          <div class="muted small" style="margin-top:10px;">Tip: audio starts after your first interaction (browser rule).</div>
        </div>
      </div>

      <!-- WIKI VIEW -->
      <div class="view" id="view-wiki" hidden>
        <div class="card card--hero">
          <div class="hero__title">Wiki</div>
          <div class="hero__sub">Lore + how stuff works. (We’ll expand this.)</div>
        </div>

        <div class="card">
          <div class="card__title">What is Memetown?</div>
          <div class="muted">A single platform: feed + arcade + wiki, all in one shell and theme.</div>
        </div>

        <div class="card">
          <div class="card__title">Quick rules</div>
          <div class="muted small">Verify your email to post/like/comment. GIFs/memes are stored in Firebase Storage.</div>
        </div>

        <div class="card">
          <div class="card__title">Coming next</div>
          <div class="muted small">Profile page, comments/threads, and a real Explore search.</div>
        </div>
      </div>
    </section>

    <aside class="side side--right" aria-label="Right sidebar">
      <div class="card">
        <div class="card__title">Trending</div>
        <div class="muted small">Updates every 10s (random popular).</div>
        <div id="trending"></div>
      </div>

      <div class="card">
        <div class="card__title">MemeWire</div>
        <div class="muted small">External meme drop every 10s.</div>
        <div id="wire"></div>
      </div>

      <div class="card">
        <div class="card__title">Sounds</div>
        <div class="muted small">Zet meerdere varianten in <code>assets/sfx/</code> (zoals <code>like_1</code>, <code>like_2</code>, …).</div>
      </div>

      <div class="card" aria-label="Anti-spam alerts">
        <div class="card__title">Anti-spam</div>
        <div class="muted small">Als je te snel post/liked, krijg je hier (en bovenaan) een waarschuwing.</div>
        <div id="alerts" class="alerts"></div>
      </div>
    </aside>
  </main>

  <dialog class="modal" id="modal">
    <form method="dialog" class="modal__inner">
      <div class="modal__top">
        <div class="modal__title" id="modal-title">Auth</div>
        <button class="btn" value="close" aria-label="Close">Close</button>
      </div>
      <div class="modal__body" id="modal-body"></div>
      <div class="modal__actions">
        <button class="btn btn--primary" value="close">Ok</button>
      </div>
    </form>
  </dialog>

  <canvas id="fx" class="fx" aria-hidden="true"></canvas>

  <script src="core.js" defer></script>
  <script type="module" src="firebase.js"></script>
  <script type="module" src="social.js"></script>
  <script src="spa.js" defer></script>
</body>
</html>
